{"version":3,"file":"commonHelpers.js","sources":["../src/js/formSrc/button.js","../src/js/gallerySrc/createGalery.js","../src/js/izitoast.js","../src/js/loader.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const button = {\n\n    _button: document.querySelector('.form-button'),\n\n    active() {\n        this._button.disabled = false\n        this._button.classList.add('active')\n    },\n\n    disable() {\n        this._button.disabled = true;\n        this._button.classList.remove('active');\n    }\n}","export function createGaleryItems(imagesInfo) {\n  return imagesInfo.reduce((htmlMarcup, el) => {\n    return (htmlMarcup += `\n      <li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${el.largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${el.webformatURL}\"\n          width=\"360\" heihgt=\"200\"\n          alt=\"${el.tags}\"/>\n          </a>\n          <ul class=\"galery-descriptions\">\n            <li class=\"galery-descriptions-item\">\n              <span class=\"galery-descriptions-title\">likes</span>\n              <span>${el.likes}</span>\n            </li>\n            <li class=\"galery-descriptions-item\">\n            <span class=\"galery-descriptions-title\">views </span>\n            <span>${el.views}</span>\n            </li>\n            <li class=\"galery-descriptions-item\">\n            <span class=\"galery-descriptions-title\">comments </span>\n            <span>${el.comments}</span>\n            </li>\n            <li class=\"galery-descriptions-item\">\n              <span class=\"galery-descriptions-title\"> downloads </span>\n              <span>${el.downloads}</span>\n            </li>\n          </ul>\n        </li>\n      `);\n  }, '');\n}","import iziToast from \"izitoast\";\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport const showModalMsg = (text, color = \"red\") => {\n    iziToast.show({\n      message: text,\n      messageColor: 'white',\n      messageSize: '26',\n      messageLineHeight: '',\n      backgroundColor: '',\n      color: color, // blue, red, green, yellow\n      close: true,\n      closeOnEscape: true,\n      closeOnClick: true,\n      position: 'topRight', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center\n      timeout: 4000,\n    });\n}","\n\nexport const loader = {\n  loader: document.querySelector('.loader'),\n  \n  show() {\n    this.loader.classList.remove(\"hiden\")\n  },\n  \n  close() {\n    this.loader.classList.add(\"hiden\")\n  }\n};","\n\nconst URL = 'https://pixabay.com/api/?';\nconst KEY = '37903725-9b007c08cd936d7b1a7a439ee';\n\nexport const getImg = (serchText, serchCategory) => {\n\n    const params = new URLSearchParams({\n    key: KEY,\n    q: serchText,\n    image_type: 'photo',\n    category: serchCategory,\n    orientation: 'horizontal',\n    safesearch: 'false',\n    });\n\n    return fetch(URL + params).then(res => {\n\n        if (!res.ok) {\n            throw new Error(res.message)\n        }\n        return res.json()\n    })\n}\n","import simpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallerySimpleLightBox = new simpleLightbox('.gallery a', {\n        captions: true,\n        captionsData: 'alt',\n        captionPosition: 'bottom',\n        captionDelay: 250,\n    })\n\nexport const gallery = {\n    galleryEl: document.querySelector('.gallery'),\n\n    clear() {\n        this.galleryEl.innerHTML = ''\n        gallerySimpleLightBox.refresh()\n    },\n\n    addItems(items) {\n        this.galleryEl.innerHTML = items;\n        gallerySimpleLightBox.refresh();\n    }\n}\n\n","import { button } from \"./js/formSrc/button.js\";\nimport { createGaleryItems } from \"./js/gallerySrc/createGalery\";\nimport { showModalMsg } from \"./js/izitoast\";\nimport { loader } from \"./js/loader\";\nimport { getImg } from \"./js/pixabay-api\";\nimport { gallery } from \"./js/render-functions\";\n\n\n\nconst formEl = document.querySelector('.search-form');\n\nformEl.addEventListener('submit', submitForm);\nformEl.addEventListener('input', inputForm);\n\nfunction inputForm(form) {\n\n    if (form.currentTarget.elements.searchText.value.length > 0) {\n        button.active()\n        return\n    }\n    button.disable()\n}\n\nfunction submitForm(form) {\n\n    form.preventDefault()\n    const serchTxt = form.currentTarget.elements.searchText.value.trim();\n    const serchCategory = form.currentTarget.elements.category.value\n    \n    if (serchTxt.length < 2) {\n        showModalMsg('the search word must contain at least 2 letters', 'red');\n        form.currentTarget.reset();\n        return\n    }\n\n    loader.show()\n    gallery.clear()\n    getImg(serchTxt, serchCategory)\n    .then(data => {\n        console.log(data)\n        if (data.hits.length === 0) {\n            showModalMsg(\n              'Sorry, there are no images matching your search query. Please try again!'\n            );\n            return\n        }\n\n        gallery.addItems(createGaleryItems(data.hits));\n\n    }).catch(err => {\n        showModalMsg(\n          'error ' + err\n        );\n        return;\n    }).finally(() => {\n        loader.close()\n        form.target.reset();\n    })\n    \n}\n"],"names":["button","createGaleryItems","imagesInfo","htmlMarcup","el","showModalMsg","text","color","iziToast","loader","URL","KEY","getImg","serchText","serchCategory","params","res","gallerySimpleLightBox","simpleLightbox","gallery","items","formEl","submitForm","inputForm","form","serchTxt","data","err"],"mappings":"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"}